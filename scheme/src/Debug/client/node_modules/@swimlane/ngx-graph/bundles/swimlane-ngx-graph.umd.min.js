!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@swimlane/ngx-charts"),require("d3-selection"),require("d3-shape"),require("d3-ease"),require("d3-transition"),require("rxjs"),require("rxjs/operators"),require("transformation-matrix"),require("dagre"),require("d3-force"),require("webcola"),require("d3-dispatch"),require("d3-timer")):"function"==typeof define&&define.amd?define("@swimlane/ngx-graph",["exports","@angular/core","@swimlane/ngx-charts","d3-selection","d3-shape","d3-ease","d3-transition","rxjs","rxjs/operators","transformation-matrix","dagre","d3-force","webcola","d3-dispatch","d3-timer"],e):e(((t=t||self).swimlane=t.swimlane||{},t.swimlane["ngx-graph"]={}),t.ng.core,t.ngxCharts,t.d3Selection,t.d3Shape,t.d3Ease,null,t.rxjs,t.rxjs.operators,t.transformationMatrix,t.dagre,t.d3Force,t.webcola,t.d3Dispatch,t.d3Timer)}(this,(function(t,e,n,i,o,r,s,a,d,h,p,u,g,c,l){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var m=function(){return(m=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function y(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s}function v(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function b(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function w(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(x(arguments[e]));return t}var O,G,T={};function E(){var t=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return T[t="a"+t]?E():(T[t]=!0,t)}(O=t.Orientation||(t.Orientation={})).LEFT_TO_RIGHT="LR",O.RIGHT_TO_LEFT="RL",O.TOP_TO_BOTTOM="TB",O.BOTTOM_TO_TOM="BT",(G=t.Alignment||(t.Alignment={})).CENTER="C",G.UP_LEFT="UL",G.UP_RIGHT="UR",G.DOWN_LEFT="DL",G.DOWN_RIGHT="DR";var L=function(){function e(){this.defaultSettings={orientation:t.Orientation.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0},this.settings={}}return e.prototype.run=function(t){this.createDagreGraph(t),p.layout(this.dagreGraph),t.edgeLabels=this.dagreGraph._edgeLabels;var e=function(e){var i=n.dagreGraph._nodes[e],o=t.nodes.find((function(t){return t.id===i.id}));o.position={x:i.x,y:i.y},o.dimension={width:i.width,height:i.height}},n=this;for(var i in this.dagreGraph._nodes)e(i);return t},e.prototype.updateEdge=function(t,e){var n=t.nodes.find((function(t){return t.id===e.source})),i=t.nodes.find((function(t){return t.id===e.target})),o=n.position.y<=i.position.y?-1:1,r={x:n.position.x,y:n.position.y-o*(n.dimension.height/2)},s={x:i.position.x,y:i.position.y+o*(i.dimension.height/2)};return e.points=[r,s],t},e.prototype.createDagreGraph=function(t){var e,n,i,o,r=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new p.graphlib.Graph({compound:r.compound,multigraph:r.multigraph}),this.dagreGraph.setGraph({rankdir:r.orientation,marginx:r.marginX,marginy:r.marginY,edgesep:r.edgePadding,ranksep:r.rankPadding,nodesep:r.nodePadding,align:r.align,acyclicer:r.acyclicer,ranker:r.ranker,multigraph:r.multigraph,compound:r.compound}),this.dagreGraph.setDefaultEdgeLabel((function(){return{}})),this.dagreNodes=t.nodes.map((function(t){var e=Object.assign({},t);return e.width=t.dimension.width,e.height=t.dimension.height,e.x=t.position.x,e.y=t.position.y,e})),this.dagreEdges=t.edges.map((function(t){var e=Object.assign({},t);return e.id||(e.id=E()),e}));try{for(var s=b(this.dagreNodes),a=s.next();!a.done;a=s.next()){var d=a.value;d.width||(d.width=20),d.height||(d.height=30),this.dagreGraph.setNode(d.id,d)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}try{for(var h=b(this.dagreEdges),u=h.next();!u.done;u=h.next()){var g=u.value;r.multigraph?this.dagreGraph.setEdge(g.source,g.target,g,g.id):this.dagreGraph.setEdge(g.source,g.target)}}catch(t){i={error:t}}finally{try{u&&!u.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}return this.dagreGraph},e}(),k=function(){function e(){this.defaultSettings={orientation:t.Orientation.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0},this.settings={}}return e.prototype.run=function(t){var e=this;this.createDagreGraph(t),p.layout(this.dagreGraph),t.edgeLabels=this.dagreGraph._edgeLabels;var n=function(t){var n=e.dagreGraph._nodes[t.id];return m(m({},t),{position:{x:n.x,y:n.y},dimension:{width:n.width,height:n.height}})};return t.clusters=(t.clusters||[]).map(n),t.nodes=t.nodes.map(n),t},e.prototype.updateEdge=function(t,e){var n=t.nodes.find((function(t){return t.id===e.source})),i=t.nodes.find((function(t){return t.id===e.target})),o=n.position.y<=i.position.y?-1:1,r={x:n.position.x,y:n.position.y-o*(n.dimension.height/2)},s={x:i.position.x,y:i.position.y+o*(i.dimension.height/2)};return e.points=[r,s],t},e.prototype.createDagreGraph=function(t){var e,n,i,o,r,s,a=this,d=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new p.graphlib.Graph({compound:d.compound,multigraph:d.multigraph}),this.dagreGraph.setGraph({rankdir:d.orientation,marginx:d.marginX,marginy:d.marginY,edgesep:d.edgePadding,ranksep:d.rankPadding,nodesep:d.nodePadding,align:d.align,acyclicer:d.acyclicer,ranker:d.ranker,multigraph:d.multigraph,compound:d.compound}),this.dagreGraph.setDefaultEdgeLabel((function(){return{}})),this.dagreNodes=t.nodes.map((function(t){var e=Object.assign({},t);return e.width=t.dimension.width,e.height=t.dimension.height,e.x=t.position.x,e.y=t.position.y,e})),this.dagreClusters=t.clusters||[],this.dagreEdges=t.edges.map((function(t){var e=Object.assign({},t);return e.id||(e.id=E()),e}));try{for(var h=b(this.dagreNodes),u=h.next();!u.done;u=h.next()){var g=u.value;this.dagreGraph.setNode(g.id,g)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}var c=function(t){l.dagreGraph.setNode(t.id,t),t.childNodeIds.forEach((function(e){a.dagreGraph.setParent(e,t.id)}))},l=this;try{for(var f=b(this.dagreClusters),m=f.next();!m.done;m=f.next()){c(m.value)}}catch(t){i={error:t}}finally{try{m&&!m.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}try{for(var y=b(this.dagreEdges),v=y.next();!v.done;v=y.next()){var x=v.value;d.multigraph?this.dagreGraph.setEdge(x.source,x.target,x,x.id):this.dagreGraph.setEdge(x.source,x.target)}}catch(t){r={error:t}}finally{try{v&&!v.done&&(s=y.return)&&s.call(y)}finally{if(r)throw r.error}}return this.dagreGraph},e}(),D=function(){function e(){this.defaultSettings={orientation:t.Orientation.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,curveDistance:20,multigraph:!0,compound:!0},this.settings={}}return e.prototype.run=function(t){var e,n;this.createDagreGraph(t),p.layout(this.dagreGraph),t.edgeLabels=this.dagreGraph._edgeLabels;var i=function(e){var n=o.dagreGraph._nodes[e],i=t.nodes.find((function(t){return t.id===n.id}));i.position={x:n.x,y:n.y},i.dimension={width:n.width,height:n.height}},o=this;for(var r in this.dagreGraph._nodes)i(r);try{for(var s=b(t.edges),a=s.next();!a.done;a=s.next()){var d=a.value;this.updateEdge(t,d)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return t},e.prototype.updateEdge=function(t,e){var n,i,o,r,s=t.nodes.find((function(t){return t.id===e.source})),a=t.nodes.find((function(t){return t.id===e.target})),d="BT"===this.settings.orientation||"TB"===this.settings.orientation?"y":"x",h="y"===d?"x":"y",p="y"===d?"height":"width",u=s.position[d]<=a.position[d]?-1:1,g=((n={})[h]=s.position[h],n[d]=s.position[d]-u*(s.dimension[p]/2),n),c=((i={})[h]=a.position[h],i[d]=a.position[d]+u*(a.dimension[p]/2),i),l=this.settings.curveDistance||this.defaultSettings.curveDistance;e.points=[g,(o={},o[h]=g[h],o[d]=g[d]-u*l,o),(r={},r[h]=c[h],r[d]=c[d]+u*l,r),c];var f=e.source+""+e.target+"\0",m=t.edgeLabels[f];return m&&(m.points=e.points),t},e.prototype.createDagreGraph=function(t){var e,n,i,o,r=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new p.graphlib.Graph({compound:r.compound,multigraph:r.multigraph}),this.dagreGraph.setGraph({rankdir:r.orientation,marginx:r.marginX,marginy:r.marginY,edgesep:r.edgePadding,ranksep:r.rankPadding,nodesep:r.nodePadding,align:r.align,acyclicer:r.acyclicer,ranker:r.ranker,multigraph:r.multigraph,compound:r.compound}),this.dagreGraph.setDefaultEdgeLabel((function(){return{}})),this.dagreNodes=t.nodes.map((function(t){var e=Object.assign({},t);return e.width=t.dimension.width,e.height=t.dimension.height,e.x=t.position.x,e.y=t.position.y,e})),this.dagreEdges=t.edges.map((function(t){var e=Object.assign({},t);return e.id||(e.id=E()),e}));try{for(var s=b(this.dagreNodes),a=s.next();!a.done;a=s.next()){var d=a.value;d.width||(d.width=20),d.height||(d.height=30),this.dagreGraph.setNode(d.id,d)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}try{for(var h=b(this.dagreEdges),u=h.next();!u.done;u=h.next()){var g=u.value;r.multigraph?this.dagreGraph.setEdge(g.source,g.target,g,g.id):this.dagreGraph.setEdge(g.source,g.target)}}catch(t){i={error:t}}finally{try{u&&!u.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}return this.dagreGraph},e}();function M(t){return"string"==typeof t?{id:t,x:0,y:0}:t}var S=function(){function t(){this.defaultSettings={force:u.forceSimulation().force("charge",u.forceManyBody().strength(-150)).force("collide",u.forceCollide(5)),forceLink:u.forceLink().id((function(t){return t.id})).distance((function(){return 100}))},this.settings={},this.outputGraph$=new a.Subject}return t.prototype.run=function(t){var e=this;return this.inputGraph=t,this.d3Graph={nodes:w(this.inputGraph.nodes.map((function(t){return m({},t)}))),edges:w(this.inputGraph.edges.map((function(t){return m({},t)})))},this.outputGraph={nodes:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&this.settings.force.nodes(this.d3Graph.nodes).force("link",this.settings.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",(function(){e.outputGraph$.next(e.d3GraphToOutputGraph(e.d3Graph))})),this.outputGraph$.asObservable()},t.prototype.updateEdge=function(t,e){var n=this,i=Object.assign({},this.defaultSettings,this.settings);return i.force&&i.force.nodes(this.d3Graph.nodes).force("link",i.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",(function(){n.outputGraph$.next(n.d3GraphToOutputGraph(n.d3Graph))})),this.outputGraph$.asObservable()},t.prototype.d3GraphToOutputGraph=function(t){return this.outputGraph.nodes=this.d3Graph.nodes.map((function(t){return m(m({},t),{id:t.id||E(),position:{x:t.x,y:t.y},dimension:{width:t.dimension&&t.dimension.width||20,height:t.dimension&&t.dimension.height||20},transform:"translate("+(t.x-(t.dimension&&t.dimension.width||20)/2||0)+", "+(t.y-(t.dimension&&t.dimension.height||20)/2||0)+")"})})),this.outputGraph.edges=this.d3Graph.edges.map((function(t){return m(m({},t),{source:M(t.source).id,target:M(t.target).id,points:[{x:M(t.source).x,y:M(t.source).y},{x:M(t.target).x,y:M(t.target).y}]})})),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph},t.prototype.onDragStart=function(t,e){this.settings.force.alphaTarget(.3).restart();var n=this.d3Graph.nodes.find((function(e){return e.id===t.id}));n&&(this.draggingStart={x:e.x-n.x,y:e.y-n.y},n.fx=e.x-this.draggingStart.x,n.fy=e.y-this.draggingStart.y)},t.prototype.onDrag=function(t,e){if(t){var n=this.d3Graph.nodes.find((function(e){return e.id===t.id}));n&&(n.fx=e.x-this.draggingStart.x,n.fy=e.y-this.draggingStart.y)}},t.prototype.onDragEnd=function(t,e){if(t){var n=this.d3Graph.nodes.find((function(e){return e.id===t.id}));n&&(this.settings.force.alphaTarget(0),n.fx=void 0,n.fy=void 0)}},t}();function I(t,e){return"number"==typeof e?t[e]:e}var N,C=function(){function t(){this.defaultSettings={force:g.d3adaptor(m(m(m({},c),u),l)).linkDistance(150).avoidOverlaps(!0),viewDimensions:{width:600,height:600,xOffset:0}},this.settings={},this.outputGraph$=new a.Subject}return t.prototype.run=function(t){var e=this;return this.inputGraph=t,this.inputGraph.clusters||(this.inputGraph.clusters=[]),this.internalGraph={nodes:w(this.inputGraph.nodes.map((function(t){return m(m({},t),{width:t.dimension?t.dimension.width:20,height:t.dimension?t.dimension.height:20})}))),groups:w(this.inputGraph.clusters.map((function(t){return{padding:5,groups:t.childNodeIds.map((function(t){return e.inputGraph.clusters.findIndex((function(e){return e.id===t}))})).filter((function(t){return t>=0})),leaves:t.childNodeIds.map((function(t){return e.inputGraph.nodes.findIndex((function(e){return e.id===t}))})).filter((function(t){return t>=0}))}}))),links:w(this.inputGraph.edges.map((function(t){var n=e.inputGraph.nodes.findIndex((function(e){return t.source===e.id})),i=e.inputGraph.nodes.findIndex((function(e){return t.target===e.id}));if(-1!==n&&-1!==i)return m(m({},t),{source:n,target:i})})).filter((function(t){return!!t}))),groupLinks:w(this.inputGraph.edges.map((function(t){var n=e.inputGraph.nodes.findIndex((function(e){return t.source===e.id})),i=e.inputGraph.nodes.findIndex((function(e){return t.target===e.id}));if(!(n>=0&&i>=0))return t})).filter((function(t){return!!t})))},this.outputGraph={nodes:[],clusters:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&(this.settings.force=this.settings.force.nodes(this.internalGraph.nodes).groups(this.internalGraph.groups).links(this.internalGraph.links).alpha(.5).on("tick",(function(){e.settings.onTickListener&&e.settings.onTickListener(e.internalGraph),e.outputGraph$.next(e.internalGraphToOutputGraph(e.internalGraph))})),this.settings.viewDimensions&&(this.settings.force=this.settings.force.size([this.settings.viewDimensions.width,this.settings.viewDimensions.height])),this.settings.forceModifierFn&&(this.settings.force=this.settings.forceModifierFn(this.settings.force)),this.settings.force.start()),this.outputGraph$.asObservable()},t.prototype.updateEdge=function(t,e){var n=Object.assign({},this.defaultSettings,this.settings);return n.force&&n.force.start(),this.outputGraph$.asObservable()},t.prototype.internalGraphToOutputGraph=function(t){var e=this;return this.outputGraph.nodes=t.nodes.map((function(t){return m(m({},t),{id:t.id||E(),position:{x:t.x,y:t.y},dimension:{width:t.dimension&&t.dimension.width||20,height:t.dimension&&t.dimension.height||20},transform:"translate("+(t.x-(t.dimension&&t.dimension.width||20)/2||0)+", "+(t.y-(t.dimension&&t.dimension.height||20)/2||0)+")"})})),this.outputGraph.edges=t.links.map((function(e){var n=I(t.nodes,e.source),i=I(t.nodes,e.target);return m(m({},e),{source:n.id,target:i.id,points:[n.bounds.rayIntersection(i.bounds.cx(),i.bounds.cy()),i.bounds.rayIntersection(n.bounds.cx(),n.bounds.cy())]})})).concat(t.groupLinks.map((function(e){var n=t.nodes.find((function(t){return t.id===e.source})),i=t.nodes.find((function(t){return t.id===e.target})),o=n||t.groups.find((function(t){return t.id===e.source})),r=i||t.groups.find((function(t){return t.id===e.target}));return m(m({},e),{source:o.id,target:r.id,points:[o.bounds.rayIntersection(r.bounds.cx(),r.bounds.cy()),r.bounds.rayIntersection(o.bounds.cx(),o.bounds.cy())]})}))),this.outputGraph.clusters=t.groups.map((function(t,n){var i=e.inputGraph.clusters[n];return m(m({},i),{dimension:{width:t.bounds?t.bounds.width():20,height:t.bounds?t.bounds.height():20},position:{x:t.bounds?t.bounds.x+t.bounds.width()/2:0,y:t.bounds?t.bounds.y+t.bounds.height()/2:0}})})),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph},t.prototype.onDragStart=function(t,e){var n=this.outputGraph.nodes.findIndex((function(e){return e.id===t.id})),i=this.internalGraph.nodes[n];i&&(this.draggingStart={x:i.x-e.x,y:i.y-e.y},i.fixed=1,this.settings.force.start())},t.prototype.onDrag=function(t,e){if(t){var n=this.outputGraph.nodes.findIndex((function(e){return e.id===t.id})),i=this.internalGraph.nodes[n];i&&(i.x=this.draggingStart.x+e.x,i.y=this.draggingStart.y+e.y)}},t.prototype.onDragEnd=function(t,e){if(t){var n=this.outputGraph.nodes.findIndex((function(e){return e.id===t.id})),i=this.internalGraph.nodes[n];i&&(i.fixed=0)}},t}(),j={dagre:L,dagreCluster:k,dagreNodesOnly:D,d3ForceDirected:S,colaForceDirected:C},P=function(){function t(){}return t.prototype.getLayout=function(t){if(j[t])return new j[t];throw new Error("Unknown layout type '"+t+"'")},t=y([e.Injectable()],t)}();!function(t){t.Both="both",t.Horizontal="horizontal",t.Vertical="vertical"}(N||(N={}));var z=function(t){function s(n,i,o,r){var s=t.call(this,n,i,o)||this;return s.el=n,s.zone=i,s.cd=o,s.layoutService=r,s.legend=!1,s.nodes=[],s.clusters=[],s.links=[],s.activeEntries=[],s.draggingEnabled=!0,s.panningEnabled=!0,s.panningAxis=N.Both,s.enableZoom=!0,s.zoomSpeed=.1,s.minZoomLevel=.1,s.maxZoomLevel=4,s.autoZoom=!1,s.panOnZoom=!0,s.animate=!1,s.autoCenter=!1,s.enableTrackpadSupport=!1,s.activate=new e.EventEmitter,s.deactivate=new e.EventEmitter,s.zoomChange=new e.EventEmitter,s.clickHandler=new e.EventEmitter,s.isMouseMoveCalled=!1,s.graphSubscription=new a.Subscription,s.subscriptions=[],s.margin=[0,0,0,0],s.results=[],s.isPanning=!1,s.isDragging=!1,s.initialized=!1,s.graphDims={width:0,height:0},s._oldLinks=[],s.oldNodes=new Set,s.oldClusters=new Set,s.transformationMatrix=h.identity(),s._touchLastX=null,s._touchLastY=null,s.groupResultsBy=function(t){return t.label},s}return function(t,e){function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(s,t),Object.defineProperty(s.prototype,"zoomLevel",{get:function(){return this.transformationMatrix.a},set:function(t){this.zoomTo(Number(t))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"panOffsetX",{get:function(){return this.transformationMatrix.e},set:function(t){this.panTo(Number(t),null)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"panOffsetY",{get:function(){return this.transformationMatrix.f},set:function(t){this.panTo(null,Number(t))},enumerable:!0,configurable:!0}),s.prototype.ngOnInit=function(){var t=this;this.update$&&this.subscriptions.push(this.update$.subscribe((function(){t.update()}))),this.center$&&this.subscriptions.push(this.center$.subscribe((function(){t.center()}))),this.zoomToFit$&&this.subscriptions.push(this.zoomToFit$.subscribe((function(){t.zoomToFit()}))),this.panToNode$&&this.subscriptions.push(this.panToNode$.subscribe((function(e){t.panToNodeId(e)})))},s.prototype.ngOnChanges=function(t){t.layout;var e=t.layoutSettings;t.nodes,t.clusters,t.links;this.setLayout(this.layout),e&&this.setLayoutSettings(this.layoutSettings),this.update()},s.prototype.setLayout=function(t){this.initialized=!1,t||(t="dagre"),"string"==typeof t&&(this.layout=this.layoutService.getLayout(t),this.setLayoutSettings(this.layoutSettings))},s.prototype.setLayoutSettings=function(t){this.layout&&"string"!=typeof this.layout&&(this.layout.settings=t,this.update())},s.prototype.ngOnDestroy=function(){var e,n;t.prototype.ngOnDestroy.call(this);try{for(var i=b(this.subscriptions),o=i.next();!o.done;o=i.next()){o.value.unsubscribe()}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}this.subscriptions=null},s.prototype.ngAfterViewInit=function(){var e=this;t.prototype.ngAfterViewInit.call(this),setTimeout((function(){return e.update()}))},s.prototype.update=function(){var e=this;t.prototype.update.call(this),this.curve||(this.curve=o.curveBundle.beta(1)),this.zone.run((function(){e.dims=n.calculateViewDimensions({width:e.width,height:e.height,margins:e.margin,showLegend:e.legend}),e.seriesDomain=e.getSeriesDomain(),e.setColors(),e.legendOptions=e.getLegendOptions(),e.createGraph(),e.updateTransform(),e.initialized=!0}))},s.prototype.createGraph=function(){var t=this;this.graphSubscription.unsubscribe(),this.graphSubscription=new a.Subscription;var e=function(e){return e.meta||(e.meta={}),e.id||(e.id=E()),e.dimension?e.meta.forceDimensions=void 0===e.meta.forceDimensions||e.meta.forceDimensions:(e.dimension={width:t.nodeWidth?t.nodeWidth:30,height:t.nodeHeight?t.nodeHeight:30},e.meta.forceDimensions=!1),e.position={x:0,y:0},e.data=e.data?e.data:{},e};this.graph={nodes:this.nodes.length>0?w(this.nodes).map(e):[],clusters:this.clusters&&this.clusters.length>0?w(this.clusters).map(e):[],edges:this.links.length>0?w(this.links).map((function(t){return t.id||(t.id=E()),t})):[]},requestAnimationFrame((function(){return t.draw()}))},s.prototype.draw=function(){var t=this;if(this.layout&&"string"!=typeof this.layout){this.applyNodeDimensions();var e=this.layout.run(this.graph),n=e instanceof a.Observable?e:a.of(e);this.graphSubscription.add(n.subscribe((function(e){t.graph=e,t.tick()}))),0!==this.graph.nodes.length&&n.pipe(d.first()).subscribe((function(){return t.applyNodeDimensions()}))}},s.prototype.tick=function(){var t=this,e=new Set;this.graph.nodes.map((function(n){n.transform="translate("+(n.position.x-n.dimension.width/2||0)+", "+(n.position.y-n.dimension.height/2||0)+")",n.data||(n.data={}),n.data.color=t.colors.getColor(t.groupResultsBy(n)),e.add(n.id)}));var n=new Set;(this.graph.clusters||[]).map((function(e){e.transform="translate("+(e.position.x-e.dimension.width/2||0)+", "+(e.position.y-e.dimension.height/2||0)+")",e.data||(e.data={}),e.data.color=t.colors.getColor(t.groupResultsBy(e)),n.add(e.id)})),setTimeout((function(){t.oldNodes=e,t.oldClusters=n}),500);var i=[],o=function(t){var e=r.graph.edgeLabels[t],n=t.replace(/[^\w-]*/g,""),o=r.layout&&"string"!=typeof r.layout&&r.layout.settings&&r.layout.settings.multigraph,s=o?r._oldLinks.find((function(t){return""+t.source+t.target+t.id===n})):r._oldLinks.find((function(t){return""+t.source+t.target===n})),a=o?r.graph.edges.find((function(t){return""+t.source+t.target+t.id===n})):r.graph.edges.find((function(t){return""+t.source+t.target===n}));s?s.data&&a&&a.data&&JSON.stringify(s.data)!==JSON.stringify(a.data)&&(s.data=a.data):s=a||e,s.oldLine=s.line;var d=e.points,h=r.generateLine(d),p=Object.assign({},s);p.line=h,p.points=d,r.updateMidpointOnEdge(p,d);var u=d[Math.floor(d.length/2)];u&&(p.textTransform="translate("+(u.x||0)+","+(u.y||0)+")"),p.textAngle=0,p.oldLine||(p.oldLine=p.line),r.calcDominantBaseline(p),i.push(p)},r=this;for(var s in this.graph.edgeLabels)o(s);this.graph.edges=i,this.graph.edges&&(this._oldLinks=this.graph.edges.map((function(t){var e=Object.assign({},t);return e.oldLine=t.line,e}))),this.graph.nodes&&this.graph.nodes.length&&(this.graphDims.width=Math.max.apply(Math,w(this.graph.nodes.map((function(t){return t.position.x+t.dimension.width})))),this.graphDims.height=Math.max.apply(Math,w(this.graph.nodes.map((function(t){return t.position.y+t.dimension.height}))))),this.autoZoom&&this.zoomToFit(),this.autoCenter&&this.center(),requestAnimationFrame((function(){return t.redrawLines()})),this.cd.markForCheck()},s.prototype.applyNodeDimensions=function(){var t=this;this.nodeElements&&this.nodeElements.length&&this.nodeElements.map((function(e){var n,i,o=e.nativeElement,r=t.graph.nodes.find((function(t){return t.id===o.id}));if(r){var s;try{s=o.getBBox()}catch(t){return}if(t.nodeHeight?r.dimension.height=r.dimension.height&&r.meta.forceDimensions?r.dimension.height:t.nodeHeight:r.dimension.height=r.dimension.height&&r.meta.forceDimensions?r.dimension.height:s.height,t.nodeMaxHeight&&(r.dimension.height=Math.max(r.dimension.height,t.nodeMaxHeight)),t.nodeMinHeight&&(r.dimension.height=Math.min(r.dimension.height,t.nodeMinHeight)),t.nodeWidth)r.dimension.width=r.dimension.width&&r.meta.forceDimensions?r.dimension.width:t.nodeWidth;else if(o.getElementsByTagName("text").length){var a=void 0;try{try{for(var d=b(o.getElementsByTagName("text")),h=d.next();!h.done;h=d.next()){var p=h.value.getBBox();a?(p.width>a.width&&(a.width=p.width),p.height>a.height&&(a.height=p.height)):a=p}}catch(t){n={error:t}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}}catch(t){return}r.dimension.width=r.dimension.width&&r.meta.forceDimensions?r.dimension.width:a.width+20}else r.dimension.width=r.dimension.width&&r.meta.forceDimensions?r.dimension.width:s.width;t.nodeMaxWidth&&(r.dimension.width=Math.max(r.dimension.width,t.nodeMaxWidth)),t.nodeMinWidth&&(r.dimension.width=Math.min(r.dimension.width,t.nodeMinWidth))}}))},s.prototype.redrawLines=function(t){var e=this;void 0===t&&(t=this.animate),this.linkElements.map((function(n){var o=e.graph.edges.find((function(t){return t.id===n.nativeElement.id}));o&&(i.select(n.nativeElement).select(".line").attr("d",o.oldLine).transition().ease(r.easeSinInOut).duration(t?500:0).attr("d",o.line),i.select(e.chartElement.nativeElement).select("#"+o.id).attr("d",o.oldTextPath).transition().ease(r.easeSinInOut).duration(t?500:0).attr("d",o.textPath),e.updateMidpointOnEdge(o,o.points))}))},s.prototype.calcDominantBaseline=function(t){var e=t.points[0],n=t.points[t.points.length-1];t.oldTextPath=t.textPath,n.x<e.x?(t.dominantBaseline="text-before-edge",t.textPath=this.generateLine(w(t.points).reverse())):(t.dominantBaseline="text-after-edge",t.textPath=t.line)},s.prototype.generateLine=function(t){return o.line().x((function(t){return t.x})).y((function(t){return t.y})).curve(this.curve)(t)},s.prototype.onZoom=function(t,e){if(!this.enableTrackpadSupport||t.ctrlKey){var n=1+("in"===e?this.zoomSpeed:-this.zoomSpeed),i=this.zoomLevel*n;if(!(i<=this.minZoomLevel||i>=this.maxZoomLevel)&&this.enableZoom)if(!0===this.panOnZoom&&t){var o=t.clientX,r=t.clientY,s=this.chart.nativeElement.querySelector("svg"),a=s.querySelector("g.chart"),d=s.createSVGPoint();d.x=o,d.y=r;var h=d.matrixTransform(a.getScreenCTM().inverse());this.pan(h.x,h.y,!0),this.zoom(n),this.pan(-h.x,-h.y,!0)}else this.zoom(n)}else this.pan(-1*t.deltaX,-1*t.deltaY)},s.prototype.pan=function(t,e,n){void 0===n&&(n=!1);var i=n?1:this.zoomLevel;this.transformationMatrix=h.transform(this.transformationMatrix,h.translate(t/i,e/i)),this.updateTransform()},s.prototype.panTo=function(t,e){if(null!=t&&!isNaN(t)&&null!=e&&!isNaN(e)){var n=-this.panOffsetX-t*this.zoomLevel+this.dims.width/2,i=-this.panOffsetY-e*this.zoomLevel+this.dims.height/2;this.transformationMatrix=h.transform(this.transformationMatrix,h.translate(n/this.zoomLevel,i/this.zoomLevel)),this.updateTransform()}},s.prototype.zoom=function(t){this.transformationMatrix=h.transform(this.transformationMatrix,h.scale(t,t)),this.zoomChange.emit(this.zoomLevel),this.updateTransform()},s.prototype.zoomTo=function(t){this.transformationMatrix.a=isNaN(t)?this.transformationMatrix.a:Number(t),this.transformationMatrix.d=isNaN(t)?this.transformationMatrix.d:Number(t),this.zoomChange.emit(this.zoomLevel),this.updateTransform(),this.update()},s.prototype.onPan=function(t){this.pan(t.movementX,t.movementY)},s.prototype.onDrag=function(t){var e,n,i=this;if(this.draggingEnabled){var o=this.draggingNode;this.layout&&"string"!=typeof this.layout&&this.layout.onDrag&&this.layout.onDrag(o,t),o.position.x+=t.movementX/this.zoomLevel,o.position.y+=t.movementY/this.zoomLevel;var r=o.position.x-o.dimension.width/2,s=o.position.y-o.dimension.height/2;o.transform="translate("+r+", "+s+")";var d=function(t){if((t.target===o.id||t.source===o.id||t.target.id===o.id||t.source.id===o.id)&&h.layout&&"string"!=typeof h.layout){var e=h.layout.updateEdge(h.graph,t),n=e instanceof a.Observable?e:a.of(e);h.graphSubscription.add(n.subscribe((function(e){i.graph=e,i.redrawEdge(t)})))}},h=this;try{for(var p=b(this.graph.edges),u=p.next();!u.done;u=p.next()){d(u.value)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=p.return)&&n.call(p)}finally{if(e)throw e.error}}this.redrawLines(!1)}},s.prototype.redrawEdge=function(t){var e=this.generateLine(t.points);this.calcDominantBaseline(t),t.oldLine=t.line,t.line=e},s.prototype.updateTransform=function(){this.transform=h.toSVG(h.smoothMatrix(this.transformationMatrix,100))},s.prototype.onClick=function(t){this.select.emit(t)},s.prototype.onActivate=function(t){this.activeEntries.indexOf(t)>-1||(this.activeEntries=w([t],this.activeEntries),this.activate.emit({value:t,entries:this.activeEntries}))},s.prototype.onDeactivate=function(t){var e=this.activeEntries.indexOf(t);this.activeEntries.splice(e,1),this.activeEntries=w(this.activeEntries),this.deactivate.emit({value:t,entries:this.activeEntries})},s.prototype.getSeriesDomain=function(){var t=this;return this.nodes.map((function(e){return t.groupResultsBy(e)})).reduce((function(t,e){return-1!==t.indexOf(e)?t:t.concat([e])}),[]).sort()},s.prototype.trackLinkBy=function(t,e){return e.id},s.prototype.trackNodeBy=function(t,e){return e.id},s.prototype.setColors=function(){this.colors=new n.ColorHelper(this.scheme,"ordinal",this.seriesDomain,this.customColors)},s.prototype.getLegendOptions=function(){return{scaleType:"ordinal",domain:this.seriesDomain,colors:this.colors}},s.prototype.onMouseMove=function(t){this.isMouseMoveCalled=!0,this.isPanning&&this.panningEnabled?this.checkEnum(this.panningAxis,t):this.isDragging&&this.draggingEnabled&&this.onDrag(t)},s.prototype.onMouseDown=function(t){this.isMouseMoveCalled=!1},s.prototype.graphClick=function(t){this.isMouseMoveCalled||this.clickHandler.emit(t)},s.prototype.onTouchStart=function(t){this._touchLastX=t.changedTouches[0].clientX,this._touchLastY=t.changedTouches[0].clientY,this.isPanning=!0},s.prototype.onTouchMove=function(t){if(this.isPanning&&this.panningEnabled){var e=t.changedTouches[0].clientX,n=t.changedTouches[0].clientY,i=e-this._touchLastX,o=n-this._touchLastY;this._touchLastX=e,this._touchLastY=n,this.pan(i,o)}},s.prototype.onTouchEnd=function(t){this.isPanning=!1},s.prototype.onMouseUp=function(t){this.isDragging=!1,this.isPanning=!1,this.layout&&"string"!=typeof this.layout&&this.layout.onDragEnd&&this.layout.onDragEnd(this.draggingNode,t)},s.prototype.onNodeMouseDown=function(t,e){this.draggingEnabled&&(this.isDragging=!0,this.draggingNode=e,this.layout&&"string"!=typeof this.layout&&this.layout.onDragStart&&this.layout.onDragStart(e,t))},s.prototype.center=function(){this.panTo(this.graphDims.width/2,this.graphDims.height/2)},s.prototype.zoomToFit=function(){var t=this.dims.height/this.graphDims.height,e=this.dims.width/this.graphDims.width,n=Math.min(t,e,1);n<this.minZoomLevel&&(n=this.minZoomLevel),n>this.maxZoomLevel&&(n=this.maxZoomLevel),n!==this.zoomLevel&&(this.zoomLevel=n,this.updateTransform(),this.zoomChange.emit(this.zoomLevel))},s.prototype.panToNodeId=function(t){var e=this.graph.nodes.find((function(e){return e.id===t}));e&&this.panTo(e.position.x,e.position.y)},s.prototype.checkEnum=function(t,e){switch(t){case N.Horizontal:this.pan(e.movementX,0);break;case N.Vertical:this.pan(0,e.movementY);break;default:this.onPan(e)}},s.prototype.updateMidpointOnEdge=function(t,e){if(t&&e)if(e.length%2==1)t.midPoint=e[Math.floor(e.length/2)];else{var n=e[e.length/2],i=e[e.length/2-1];t.midPoint={x:(n.x+i.x)/2,y:(n.y+i.y)/2}}},s.ctorParameters=function(){return[{type:e.ElementRef},{type:e.NgZone},{type:e.ChangeDetectorRef},{type:P}]},y([e.Input(),v("design:type",Boolean)],s.prototype,"legend",void 0),y([e.Input(),v("design:type",Array)],s.prototype,"nodes",void 0),y([e.Input(),v("design:type",Array)],s.prototype,"clusters",void 0),y([e.Input(),v("design:type",Array)],s.prototype,"links",void 0),y([e.Input(),v("design:type",Array)],s.prototype,"activeEntries",void 0),y([e.Input(),v("design:type",Object)],s.prototype,"curve",void 0),y([e.Input(),v("design:type",Object)],s.prototype,"draggingEnabled",void 0),y([e.Input(),v("design:type",Number)],s.prototype,"nodeHeight",void 0),y([e.Input(),v("design:type",Number)],s.prototype,"nodeMaxHeight",void 0),y([e.Input(),v("design:type",Number)],s.prototype,"nodeMinHeight",void 0),y([e.Input(),v("design:type",Number)],s.prototype,"nodeWidth",void 0),y([e.Input(),v("design:type",Number)],s.prototype,"nodeMinWidth",void 0),y([e.Input(),v("design:type",Number)],s.prototype,"nodeMaxWidth",void 0),y([e.Input(),v("design:type",Boolean)],s.prototype,"panningEnabled",void 0),y([e.Input(),v("design:type",String)],s.prototype,"panningAxis",void 0),y([e.Input(),v("design:type",Object)],s.prototype,"enableZoom",void 0),y([e.Input(),v("design:type",Object)],s.prototype,"zoomSpeed",void 0),y([e.Input(),v("design:type",Object)],s.prototype,"minZoomLevel",void 0),y([e.Input(),v("design:type",Object)],s.prototype,"maxZoomLevel",void 0),y([e.Input(),v("design:type",Object)],s.prototype,"autoZoom",void 0),y([e.Input(),v("design:type",Object)],s.prototype,"panOnZoom",void 0),y([e.Input(),v("design:type",Object)],s.prototype,"animate",void 0),y([e.Input(),v("design:type",Object)],s.prototype,"autoCenter",void 0),y([e.Input(),v("design:type",a.Observable)],s.prototype,"update$",void 0),y([e.Input(),v("design:type",a.Observable)],s.prototype,"center$",void 0),y([e.Input(),v("design:type",a.Observable)],s.prototype,"zoomToFit$",void 0),y([e.Input(),v("design:type",a.Observable)],s.prototype,"panToNode$",void 0),y([e.Input(),v("design:type",Object)],s.prototype,"layout",void 0),y([e.Input(),v("design:type",Object)],s.prototype,"layoutSettings",void 0),y([e.Input(),v("design:type",Object)],s.prototype,"enableTrackpadSupport",void 0),y([e.Output(),v("design:type",e.EventEmitter)],s.prototype,"activate",void 0),y([e.Output(),v("design:type",e.EventEmitter)],s.prototype,"deactivate",void 0),y([e.Output(),v("design:type",e.EventEmitter)],s.prototype,"zoomChange",void 0),y([e.Output(),v("design:type",e.EventEmitter)],s.prototype,"clickHandler",void 0),y([e.ContentChild("linkTemplate"),v("design:type",e.TemplateRef)],s.prototype,"linkTemplate",void 0),y([e.ContentChild("nodeTemplate"),v("design:type",e.TemplateRef)],s.prototype,"nodeTemplate",void 0),y([e.ContentChild("clusterTemplate"),v("design:type",e.TemplateRef)],s.prototype,"clusterTemplate",void 0),y([e.ContentChild("defsTemplate"),v("design:type",e.TemplateRef)],s.prototype,"defsTemplate",void 0),y([e.ViewChild(n.ChartComponent,{read:e.ElementRef,static:!0}),v("design:type",e.ElementRef)],s.prototype,"chart",void 0),y([e.ViewChildren("nodeElement"),v("design:type",e.QueryList)],s.prototype,"nodeElements",void 0),y([e.ViewChildren("linkElement"),v("design:type",e.QueryList)],s.prototype,"linkElements",void 0),y([e.Input(),v("design:type",Function)],s.prototype,"groupResultsBy",void 0),y([e.Input("zoomLevel"),v("design:type",Object),v("design:paramtypes",[Object])],s.prototype,"zoomLevel",null),y([e.Input("panOffsetX"),v("design:type",Object),v("design:paramtypes",[Object])],s.prototype,"panOffsetX",null),y([e.Input("panOffsetY"),v("design:type",Object),v("design:paramtypes",[Object])],s.prototype,"panOffsetY",null),y([e.HostListener("document:mousemove",["$event"]),v("design:type",Function),v("design:paramtypes",[MouseEvent]),v("design:returntype",void 0)],s.prototype,"onMouseMove",null),y([e.HostListener("document:mousedown",["$event"]),v("design:type",Function),v("design:paramtypes",[MouseEvent]),v("design:returntype",void 0)],s.prototype,"onMouseDown",null),y([e.HostListener("document:click",["$event"]),v("design:type",Function),v("design:paramtypes",[MouseEvent]),v("design:returntype",void 0)],s.prototype,"graphClick",null),y([e.HostListener("document:touchmove",["$event"]),v("design:type",Function),v("design:paramtypes",[Object]),v("design:returntype",void 0)],s.prototype,"onTouchMove",null),y([e.HostListener("document:mouseup",["$event"]),v("design:type",Function),v("design:paramtypes",[MouseEvent]),v("design:returntype",void 0)],s.prototype,"onMouseUp",null),s=y([e.Component({selector:"ngx-graph",template:'<ngx-charts-chart\n  [view]="[width, height]"\n  [showLegend]="legend"\n  [legendOptions]="legendOptions"\n  (legendLabelClick)="onClick($event)"\n  (legendLabelActivate)="onActivate($event)"\n  (legendLabelDeactivate)="onDeactivate($event)"\n  mouseWheel\n  (mouseWheelUp)="onZoom($event, \'in\')"\n  (mouseWheelDown)="onZoom($event, \'out\')"\n>\n  <svg:g\n    *ngIf="initialized && graph"\n    [attr.transform]="transform"\n    (touchstart)="onTouchStart($event)"\n    (touchend)="onTouchEnd($event)"\n    class="graph chart"\n  >\n    <defs>\n      <ng-container *ngIf="defsTemplate" [ngTemplateOutlet]="defsTemplate"></ng-container>\n      <svg:path\n        class="text-path"\n        *ngFor="let link of graph.edges"\n        [attr.d]="link.textPath"\n        [attr.id]="link.id"\n      ></svg:path>\n    </defs>\n\n    <svg:rect\n      class="panning-rect"\n      [attr.width]="dims.width * 100"\n      [attr.height]="dims.height * 100"\n      [attr.transform]="\'translate(\' + (-dims.width || 0) * 50 + \',\' + (-dims.height || 0) * 50 + \')\'"\n      (mousedown)="isPanning = true"\n    />\n\n    <ng-content></ng-content>\n\n    <svg:g class="clusters">\n      <svg:g\n        #clusterElement\n        *ngFor="let node of graph.clusters; trackBy: trackNodeBy"\n        class="node-group"\n        [class.old-node]="animate && oldClusters.has(node.id)"\n        [id]="node.id"\n        [attr.transform]="node.transform"\n        (click)="onClick(node)"\n      >\n        <ng-container\n          *ngIf="clusterTemplate"\n          [ngTemplateOutlet]="clusterTemplate"\n          [ngTemplateOutletContext]="{ $implicit: node }"\n        ></ng-container>\n        <svg:g *ngIf="!clusterTemplate" class="node cluster">\n          <svg:rect\n            [attr.width]="node.dimension.width"\n            [attr.height]="node.dimension.height"\n            [attr.fill]="node.data?.color"\n          />\n          <svg:text alignment-baseline="central" [attr.x]="10" [attr.y]="node.dimension.height / 2">\n            {{ node.label }}\n          </svg:text>\n        </svg:g>\n      </svg:g>\n    </svg:g>\n\n    <svg:g class="links">\n      <svg:g #linkElement *ngFor="let link of graph.edges; trackBy: trackLinkBy" class="link-group" [id]="link.id">\n        <ng-container\n          *ngIf="linkTemplate"\n          [ngTemplateOutlet]="linkTemplate"\n          [ngTemplateOutletContext]="{ $implicit: link }"\n        ></ng-container>\n        <svg:path *ngIf="!linkTemplate" class="edge" [attr.d]="link.line" />\n      </svg:g>\n    </svg:g>\n\n    <svg:g class="nodes">\n      <svg:g\n        #nodeElement\n        *ngFor="let node of graph.nodes; trackBy: trackNodeBy"\n        class="node-group"\n        [class.old-node]="animate && oldNodes.has(node.id)"\n        [id]="node.id"\n        [attr.transform]="node.transform"\n        (click)="onClick(node)"\n        (mousedown)="onNodeMouseDown($event, node)"\n      >\n        <ng-container\n          *ngIf="nodeTemplate"\n          [ngTemplateOutlet]="nodeTemplate"\n          [ngTemplateOutletContext]="{ $implicit: node }"\n        ></ng-container>\n        <svg:circle\n          *ngIf="!nodeTemplate"\n          r="10"\n          [attr.cx]="node.dimension.width / 2"\n          [attr.cy]="node.dimension.height / 2"\n          [attr.fill]="node.data?.color"\n        />\n      </svg:g>\n    </svg:g>\n  </svg:g>\n</ngx-charts-chart>\n',encapsulation:e.ViewEncapsulation.None,changeDetection:e.ChangeDetectionStrategy.OnPush,styles:[".graph{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.graph .edge{stroke:#666;fill:none}.graph .edge .edge-label{stroke:none;font-size:12px;fill:#251e1e}.graph .panning-rect{fill:transparent;cursor:move}.graph .node-group.old-node{transition:transform .5s ease-in-out}.graph .node-group .node:focus{outline:0}.graph .cluster rect{opacity:.2}"]}),v("design:paramtypes",[e.ElementRef,e.NgZone,e.ChangeDetectorRef,P])],s)}(n.BaseChartComponent),_=function(){function t(){this.mouseWheelUp=new e.EventEmitter,this.mouseWheelDown=new e.EventEmitter}return t.prototype.onMouseWheelChrome=function(t){this.mouseWheelFunc(t)},t.prototype.onMouseWheelFirefox=function(t){this.mouseWheelFunc(t)},t.prototype.onWheel=function(t){this.mouseWheelFunc(t)},t.prototype.onMouseWheelIE=function(t){this.mouseWheelFunc(t)},t.prototype.mouseWheelFunc=function(t){window.event&&(t=window.event);var e=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail||t.deltaY||t.deltaX)),n=t.wheelDelta?e>0:e<0,i=t.wheelDelta?e<0:e>0;n?this.mouseWheelUp.emit(t):i&&this.mouseWheelDown.emit(t),t.returnValue=!1,t.preventDefault&&t.preventDefault()},y([e.Output(),v("design:type",Object)],t.prototype,"mouseWheelUp",void 0),y([e.Output(),v("design:type",Object)],t.prototype,"mouseWheelDown",void 0),y([e.HostListener("mousewheel",["$event"]),v("design:type",Function),v("design:paramtypes",[Object]),v("design:returntype",void 0)],t.prototype,"onMouseWheelChrome",null),y([e.HostListener("DOMMouseScroll",["$event"]),v("design:type",Function),v("design:paramtypes",[Object]),v("design:returntype",void 0)],t.prototype,"onMouseWheelFirefox",null),y([e.HostListener("wheel",["$event"]),v("design:type",Function),v("design:paramtypes",[Object]),v("design:returntype",void 0)],t.prototype,"onWheel",null),y([e.HostListener("onmousewheel",["$event"]),v("design:type",Function),v("design:paramtypes",[Object]),v("design:returntype",void 0)],t.prototype,"onMouseWheelIE",null),t=y([e.Directive({selector:"[mouseWheel]"})],t)}(),F=function(){function t(){}return t=y([e.NgModule({imports:[n.ChartCommonModule],declarations:[z,_],exports:[z,_],providers:[P]})],t)}(),$=function(){function t(){}return t=y([e.NgModule({imports:[n.NgxChartsModule],exports:[F]})],t)}();t.ColaForceDirectedLayout=C,t.D3ForceDirectedLayout=S,t.DagreClusterLayout=k,t.DagreLayout=L,t.DagreNodesOnlyLayout=D,t.GraphComponent=z,t.GraphModule=F,t.MouseWheelDirective=_,t.NgxGraphModule=$,t.toD3Node=M,t.toNode=I,t.Éµa=P,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=swimlane-ngx-graph.umd.min.js.map